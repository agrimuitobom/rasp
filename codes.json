{
  "codes": [
    {
      "id": "led-blink",
      "title": "ğŸ”´ LEDç‚¹æ»…ãƒ—ãƒ­ã‚°ãƒ©ãƒ ",
      "description": "åŸºæœ¬çš„ãªLEDåˆ¶å¾¡ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚GPIO18ãƒ”ãƒ³ã«æ¥ç¶šã—ãŸLEDãŒ1ç§’é–“éš”ã§ç‚¹æ»…ã—ã¾ã™ã€‚",
      "difficulty": "åˆç´š",
      "tags": ["GPIO", "LED"],
      "filename": "led_blink.py",
      "code": "import RPi.GPIO as GPIO\nimport time\n\n# GPIOã®è¨­å®š\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(18, GPIO.OUT)\n\nprint(\"LEDç‚¹æ»…é–‹å§‹ï¼Ctrl+Cã§åœæ­¢\")\n\ntry:\n    while True:\n        GPIO.output(18, GPIO.HIGH)  # LEDç‚¹ç¯\n        print(\"LED ON\")\n        time.sleep(1)\n        \n        GPIO.output(18, GPIO.LOW)   # LEDæ¶ˆç¯\n        print(\"LED OFF\")\n        time.sleep(1)\n        \nexcept KeyboardInterrupt:\n    print(\"\\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢\")\n    \nfinally:\n    GPIO.cleanup()  # GPIOã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n    print(\"GPIO cleanupå®Œäº†\")",
      "setup": {
        "connection": "GPIO18 â†’ LED+ â†’ æŠµæŠ—(220Î©) â†’ GND",
        "command": "python3 led_blink.py",
        "notes": ""
      }
    },
    {
      "id": "button-led",
      "title": "ğŸ”² ãƒœã‚¿ãƒ³å…¥åŠ›ãƒ—ãƒ­ã‚°ãƒ©ãƒ ",
      "description": "ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨LEDãŒç‚¹ç¯ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚ãƒ—ãƒ«ã‚¢ãƒƒãƒ—æŠµæŠ—ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚",
      "difficulty": "åˆç´š",
      "tags": ["GPIO", "ãƒœã‚¿ãƒ³"],
      "filename": "button_led.py",
      "code": "import RPi.GPIO as GPIO\nimport time\n\n# GPIOã®è¨­å®š\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(18, GPIO.OUT)    # LEDç”¨\nGPIO.setup(2, GPIO.IN, pull_up_down=GPIO.PUD_UP)  # ãƒœã‚¿ãƒ³ç”¨\n\nprint(\"ãƒœã‚¿ãƒ³ã§LEDåˆ¶å¾¡é–‹å§‹ï¼Ctrl+Cã§åœæ­¢\")\nprint(\"ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„\")\n\ntry:\n    while True:\n        if GPIO.input(2) == GPIO.LOW:  # ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸ\n            GPIO.output(18, GPIO.HIGH)  # LEDç‚¹ç¯\n            print(\"ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚Œã¾ã—ãŸ - LED ON\")\n        else:\n            GPIO.output(18, GPIO.LOW)   # LEDæ¶ˆç¯\n        \n        time.sleep(0.1)  # CPUã®è² è·ã‚’è»½æ¸›\n        \nexcept KeyboardInterrupt:\n    print(\"\\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢\")\n    \nfinally:\n    GPIO.cleanup()\n    print(\"GPIO cleanupå®Œäº†\")",
      "setup": {
        "connection": "GPIO2 â†’ ãƒœã‚¿ãƒ³ â†’ GND\nGPIO18 â†’ LED+ â†’ æŠµæŠ—(220Î©) â†’ GND",
        "command": "python3 button_led.py",
        "notes": ""
      }
    },
    {
      "id": "dht22",
      "title": "ğŸŒ¡ï¸ æ¸©æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ï¼ˆDHT22ï¼‰",
      "description": "DHT22ã‚»ãƒ³ã‚µãƒ¼ã§æ¸©åº¦ã¨æ¹¿åº¦ã‚’æ¸¬å®šã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚è¾²æ¥­IoTã®åŸºæœ¬ã¨ãªã‚Šã¾ã™ã€‚",
      "difficulty": "ä¸­ç´š",
      "tags": ["ã‚»ãƒ³ã‚µãƒ¼", "IoT"],
      "filename": "dht22.py",
      "code": "import Adafruit_DHT\nimport time\nfrom datetime import datetime\n\n# ã‚»ãƒ³ã‚µãƒ¼ã®è¨­å®š\nsensor = Adafruit_DHT.DHT22\npin = 4  # GPIO4ã«æ¥ç¶š\n\nprint(\"æ¸©æ¹¿åº¦æ¸¬å®šé–‹å§‹ï¼Ctrl+Cã§åœæ­¢\")\n\ntry:\n    while True:\n        # ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰å€¤ã‚’èª­ã¿å–ã‚Š\n        humidity, temperature = Adafruit_DHT.read_retry(sensor, pin)\n        \n        # ç¾åœ¨æ™‚åˆ»ã‚’å–å¾—\n        now = datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n        \n        if humidity is not None and temperature is not None:\n            print(f\"{now} - æ¸©åº¦: {temperature:.1f}Â°C, æ¹¿åº¦: {humidity:.1f}%\")\n        else:\n            print(f\"{now} - ã‚»ãƒ³ã‚µãƒ¼ã®èª­ã¿å–ã‚Šã«å¤±æ•—ã—ã¾ã—ãŸ\")\n        \n        time.sleep(2)  # 2ç§’é–“éš”ã§æ¸¬å®š\n        \nexcept KeyboardInterrupt:\n    print(\"\\næ¸¬å®šã‚’åœæ­¢ã—ã¾ã—ãŸ\")",
      "setup": {
        "connection": "VCCâ†’3.3V, GNDâ†’GND, DATAâ†’GPIO4",
        "command": "python3 dht22.py",
        "notes": "ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: pip3 install Adafruit_DHT"
      }
    },
    {
      "id": "led-pattern",
      "title": "ğŸ¨ LEDãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¶å¾¡",
      "description": "è¤‡æ•°ã®LEDã‚’ä½¿ã£ã¦æ§˜ã€…ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã§ç‚¹æ»…ã•ã›ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚",
      "difficulty": "ä¸­ç´š",
      "tags": ["GPIO", "ãƒ‘ã‚¿ãƒ¼ãƒ³", "LED"],
      "filename": "led_pattern.py",
      "code": "import RPi.GPIO as GPIO\nimport time\n\n# GPIOã®è¨­å®š\nGPIO.setmode(GPIO.BCM)\nled_pins = [18, 19, 20, 21]  # 4ã¤ã®LEDãƒ”ãƒ³\n\n# å…¨ã¦ã®ãƒ”ãƒ³ã‚’å‡ºåŠ›ã¨ã—ã¦è¨­å®š\nfor pin in led_pins:\n    GPIO.setup(pin, GPIO.OUT)\n    GPIO.output(pin, GPIO.LOW)\n\ndef pattern_1():\n    \"\"\"é †ç•ªã«ç‚¹ç¯\"\"\"\n    for pin in led_pins:\n        GPIO.output(pin, GPIO.HIGH)\n        time.sleep(0.3)\n        GPIO.output(pin, GPIO.LOW)\n\ndef pattern_2():\n    \"\"\"å…¨ç‚¹æ»…\"\"\"\n    for pin in led_pins:\n        GPIO.output(pin, GPIO.HIGH)\n    time.sleep(0.5)\n    for pin in led_pins:\n        GPIO.output(pin, GPIO.LOW)\n    time.sleep(0.5)\n\ndef pattern_3():\n    \"\"\"å·¦å³ã‹ã‚‰ä¸­å¤®ã¸\"\"\"\n    GPIO.output(18, GPIO.HIGH)\n    GPIO.output(21, GPIO.HIGH)\n    time.sleep(0.3)\n    GPIO.output(19, GPIO.HIGH)\n    GPIO.output(20, GPIO.HIGH)\n    time.sleep(0.3)\n    for pin in led_pins:\n        GPIO.output(pin, GPIO.LOW)\n    time.sleep(0.3)\n\nprint(\"LEDãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¶å¾¡é–‹å§‹ï¼Ctrl+Cã§åœæ­¢\")\n\ntry:\n    pattern = 1\n    while True:\n        print(f\"ãƒ‘ã‚¿ãƒ¼ãƒ³ {pattern}\")\n        \n        if pattern == 1:\n            pattern_1()\n        elif pattern == 2:\n            pattern_2()\n        else:\n            pattern_3()\n        \n        pattern = (pattern % 3) + 1  # 1,2,3ã‚’å¾ªç’°\n        time.sleep(0.5)\n        \nexcept KeyboardInterrupt:\n    print(\"\\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢\")\n    \nfinally:\n    GPIO.cleanup()\n    print(\"GPIO cleanupå®Œäº†\")",
      "setup": {
        "connection": "GPIO18, 19, 20, 21 â†’ å„LED+ â†’ æŠµæŠ—(220Î©) â†’ GND",
        "command": "python3 led_pattern.py",
        "notes": ""
      }
    },
    {
      "id": "pwm-led",
      "title": "ğŸ”† PWMåˆ¶å¾¡ï¼ˆLEDèª¿å…‰ï¼‰",
      "description": "PWMã‚’ä½¿ã£ã¦LEDã®æ˜ã‚‹ã•ã‚’æ®µéšçš„ã«å¤‰åŒ–ã•ã›ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚",
      "difficulty": "ä¸­ç´š",
      "tags": ["PWM", "èª¿å…‰", "LED"],
      "filename": "pwm_led.py",
      "code": "import RPi.GPIO as GPIO\nimport time\n\n# GPIOã®è¨­å®š\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(18, GPIO.OUT)\n\n# PWMã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆï¼ˆ1000Hzï¼‰\npwm = GPIO.PWM(18, 1000)\npwm.start(0)  # 0%ã®æ˜ã‚‹ã•ã‹ã‚‰é–‹å§‹\n\nprint(\"PWM LEDåˆ¶å¾¡é–‹å§‹ï¼Ctrl+Cã§åœæ­¢\")\nprint(\"LEDãŒæ˜æš—ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™\")\n\ntry:\n    while True:\n        # æ˜ã‚‹ããªã‚‹ï¼ˆ0% â†’ 100%ï¼‰\n        print(\"æ˜ã‚‹ããªã£ã¦ã„ã¾ã™...\")\n        for duty_cycle in range(0, 101, 2):\n            pwm.ChangeDutyCycle(duty_cycle)\n            time.sleep(0.05)\n        \n        time.sleep(0.5)\n        \n        # æš—ããªã‚‹ï¼ˆ100% â†’ 0%ï¼‰\n        print(\"æš—ããªã£ã¦ã„ã¾ã™...\")\n        for duty_cycle in range(100, -1, -2):\n            pwm.ChangeDutyCycle(duty_cycle)\n            time.sleep(0.05)\n        \n        time.sleep(0.5)\n        \nexcept KeyboardInterrupt:\n    print(\"\\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢\")\n    \nfinally:\n    pwm.stop()\n    GPIO.cleanup()\n    print(\"PWMåœæ­¢ã€GPIO cleanupå®Œäº†\")",
      "setup": {
        "connection": "GPIO18 â†’ LED+ â†’ æŠµæŠ—(220Î©) â†’ GND",
        "command": "python3 pwm_led.py",
        "notes": ""
      }
    },
    {
      "id": "servo",
      "title": "ğŸ”„ ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼åˆ¶å¾¡",
      "description": "PWMã§ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼ã‚’åˆ¶å¾¡ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚è§’åº¦æŒ‡å®šã§å›è»¢ã•ã›ã¾ã™ã€‚",
      "difficulty": "ä¸­ç´š",
      "tags": ["ã‚µãƒ¼ãƒœ", "PWM"],
      "filename": "servo_control.py",
      "code": "import RPi.GPIO as GPIO\nimport time\n\n# GPIOã®è¨­å®š\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(18, GPIO.OUT)\n\n# PWMã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆï¼ˆ50Hzï¼‰\nservo = GPIO.PWM(18, 50)\nservo.start(0)\n\ndef set_angle(angle):\n    \"\"\"è§’åº¦ã‚’æŒ‡å®šã—ã¦ã‚µãƒ¼ãƒœã‚’å‹•ã‹ã™\"\"\"\n    duty_cycle = 2 + (angle / 18)\n    servo.ChangeDutyCycle(duty_cycle)\n    time.sleep(0.5)\n    servo.ChangeDutyCycle(0)  # ä¿¡å·åœæ­¢ã§ã‚¸ãƒƒã‚¿ãƒ¼ã‚’é˜²ã\n\nprint(\"ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼åˆ¶å¾¡é–‹å§‹ï¼Ctrl+Cã§åœæ­¢\")\nprint(\"ã‚µãƒ¼ãƒœãŒ0åº¦ã€90åº¦ã€180åº¦ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™\")\n\ntry:\n    while True:\n        print(\"0åº¦ã«ç§»å‹•\")\n        set_angle(0)\n        time.sleep(1)\n        \n        print(\"90åº¦ã«ç§»å‹•\")\n        set_angle(90)\n        time.sleep(1)\n        \n        print(\"180åº¦ã«ç§»å‹•\")\n        set_angle(180)\n        time.sleep(1)\n        \n        print(\"90åº¦ã«æˆ»ã‚‹\")\n        set_angle(90)\n        time.sleep(1)\n        \nexcept KeyboardInterrupt:\n    print(\"\\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢\")\n    \nfinally:\n    servo.stop()\n    GPIO.cleanup()\n    print(\"ã‚µãƒ¼ãƒœåœæ­¢ã€GPIO cleanupå®Œäº†\")",
      "setup": {
        "connection": "èµ¤ç·šâ†’5V, èŒ¶ç·šâ†’GND, ã‚ªãƒ¬ãƒ³ã‚¸ç·šâ†’GPIO18",
        "command": "python3 servo_control.py",
        "notes": "â€»5Vé›»æºã§å‹•ä½œã•ã›ã¦ãã ã•ã„"
      }
    },
    {
      "id": "dht22-lcd",
      "title": "ğŸŒ¡ï¸ğŸ“º DHT22ã¨ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚’ä½¿ã£ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ",
      "description": "DHT22ã§å–å¾—ã—ãŸæ¸©æ¹¿åº¦ãƒ‡ãƒ¼ã‚¿ã‚’LCD1602ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«è¡¨ç¤ºã•ã›ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚",
      "difficulty": "ä¸­ç´š",
      "tags": ["ã‚»ãƒ³ã‚µãƒ¼", "IoT", "ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤", "LCD"],
      "filename": "dht22_lcd.py",
      "code": "#!/usr/bin/env python3\n# -*- coding: utf-8 -*-\n\nimport time\nimport board\nimport adafruit_dht\nfrom RPLCD.i2c import CharLCD\nimport os\n\n# lgpioã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š\nos.environ['BLINKA_USE_LGPIO'] = '1'\n\n# DHT22ã‚»ãƒ³ã‚µãƒ¼ã®åˆæœŸåŒ–(GPIO27ã‚’ä½¿ç”¨)\ndht_device = adafruit_dht.DHT22(board.D27, use_pulseio=False)\n\n# LCD1602ã®åˆæœŸåŒ–(ã‚¢ãƒ‰ãƒ¬ã‚¹0x27)\nlcd = CharLCD('PCF8574', 0x27, cols=16, rows=2)\n\ndef main():\n    try:\n        lcd.clear()\n        lcd.cursor_pos = (0, 0)\n        lcd.write_string('DHT22 Sensor')\n        time.sleep(2)\n        \n        while True:\n            try:\n                # æ¸©åº¦ã¨æ¹¿åº¦ã‚’å–å¾—\n                temperature = dht_device.temperature\n                humidity = dht_device.humidity\n                \n                # LCDã«è¡¨ç¤º\n                lcd.clear()\n                lcd.cursor_pos = (0, 0)\n                lcd.write_string(f'Temp: {temperature:.1f}C')\n                lcd.cursor_pos = (1, 0)\n                lcd.write_string(f'Humi: {humidity:.1f}%')\n                \n                # ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã‚‚å‡ºåŠ›\n                print(f'Temperature: {temperature:.1f}Â°C, Humidity: {humidity:.1f}%')\n                \n            except RuntimeError as error:\n                # DHT22ã¯èª­ã¿å–ã‚Šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚‹\n                print(f\"Error: {error.args[0]}\")\n                time.sleep(2.0)\n                continue\n            except Exception as e:\n                print(f\"Unexpected error: {e}\")\n                time.sleep(2.0)\n                continue\n            \n            # 2ç§’å¾…æ©Ÿ(DHT22ã¯2ç§’ä»¥ä¸Šã®é–“éš”ãŒå¿…è¦)\n            time.sleep(2.0)\n            \n    except KeyboardInterrupt:\n        print(\"\\nãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚äº†ã—ã¾ã™\")\n        lcd.clear()\n        lcd.write_string('Goodbye!')\n        time.sleep(1)\n        lcd.clear()\n    finally:\n        dht_device.exit()\n\nif __name__ == '__main__':\n    main()",
      "setup": {
        "connection": "DHT22: VCCâ†’3.3V, DATAâ†’GPIO27, GNDâ†’GND (10kÎ©ãƒ—ãƒ«ã‚¢ãƒƒãƒ—æŠµæŠ—)\nLCD1602: VCCâ†’5V, GNDâ†’GND, SDAâ†’GPIO2, SCLâ†’GPIO3",
        "command": "python3 dht22_lcd.py",
        "notes": "ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—:\n1. sudo apt update && sudo apt upgrade -y\n2. sudo raspi-config (I2Cæœ‰åŠ¹åŒ–)\n3. sudo apt install python3-pip python3-dev i2c-tools python3-lgpio -y\n4. pip3 install adafruit-circuitpython-dht RPLCD lgpio adafruit-blinka\n5. sudo i2cdetect -y 1 (0x27ç¢ºèª)\n6. sudo usermod -a -G gpio,i2c $USER && sudo reboot"
      }
    }
  ]
}

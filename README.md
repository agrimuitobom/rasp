# 🍓 ラズパイプログラミング - コード共有サイト

愛媛県立西条農業高等学校のラズベリーパイプログラミング授業用コード共有サイトです。

## 🌟 特徴

- **簡単コピペ**: ボタン1つでコードをコピー
- **ファイルダウンロード**: .pyファイルとして直接ダウンロード可能
- **検索・フィルタリング**: キーワードや難易度で絞り込み
- **レスポンシブデザイン**: スマートフォンでも快適に閲覧
- **動的コンテンツ**: JSONファイルから自動生成

## 📁 ファイル構成

```
rasp/
├── index.html      # メインページ
├── admin.html      # コード追加用管理画面
├── codes.json      # コードデータ（JSON形式）
└── README.md       # このファイル
```

## 🚀 使い方

### 生徒向け：コードを使う

1. [サイト](https://agrimuitobom.github.io/rasp/)にアクセス
2. 必要なコードを検索・選択
3. 「📋 コピー」または「💾 ダウンロード」ボタンをクリック
4. ラズパイで実行！

---

## ✨ 各方法の比較

| 方法 | 難易度 | 時間 | おすすめ度 |
|------|--------|------|-----------|
| **GitHub Issue** | ⭐ 超簡単 | 1分 | ⭐⭐⭐⭐⭐ |
| 管理画面（admin.html） | ⭐⭐ 簡単 | 3分 | ⭐⭐⭐⭐ |
| 直接編集 | ⭐⭐⭐ やや難 | 5分 | ⭐⭐ |

**→ 初めての方は「GitHub Issue」がおすすめです！**

---

### 先生向け：新しいコードを追加する

#### 方法1: GitHub Issueで追加（超簡単！推奨⭐）

**これが一番簡単です！**

1. GitHubのリポジトリページで「Issues」タブをクリック
2. 「New issue」をクリック
3. 「新しいコードを追加」テンプレートを選択
4. フォームに入力：
   - コードID（例: `ultrasonic-sensor`）
   - タイトル（例: `📏 超音波距離センサー`）
   - 説明、難易度、タグ
   - Pythonコード（コピペでOK）
   - 接続方法、実行コマンド、備考
5. 「Submit new issue」をクリック

**→ 数秒後、自動的にサイトに追加されます！✨**

Issueは自動的にクローズされ、成功メッセージが表示されます。

#### 方法2: 管理画面を使う

1. `admin.html` をブラウザで開く
2. フォームに必要な情報を入力：
   - ID（例: `ultrasonic-sensor`）
   - タイトル（例: `📏 超音波距離センサー`）
   - 説明
   - 難易度（初級/中級/上級）
   - タグ（Enterキーで追加）
   - ファイル名（例: `ultrasonic_sensor.py`）
   - Pythonコード
   - 接続方法
   - 実行コマンド
   - 備考
3. 「📝 JSONを生成」ボタンをクリック
4. 「💾 JSONをダウンロード」ボタンで `new_code.json` をダウンロード
5. `codes.json` を開いて、以下のように追加：

```json
{
  "codes": [
    {
      "id": "led-blink",
      ...
    },
    {
      "id": "button-led",
      ...
    },
    // ↓ ここに新しいコードを追加（最後の要素の後に「,」を忘れずに！）
    {
      "id": "ultrasonic-sensor",
      "title": "📏 超音波距離センサー",
      ...
    }
  ]
}
```

6. GitHubにコミット＆プッシュ

```bash
git add codes.json
git commit -m "新しいコードを追加: 超音波距離センサー"
git push
```

7. サイトを更新して確認！

#### 方法3: 直接編集する（上級者向け）

`codes.json` を直接編集して、新しいコードを追加することもできます。

```json
{
  "id": "your-code-id",
  "title": "🎯 あなたのコードタイトル",
  "description": "コードの説明",
  "difficulty": "初級",
  "tags": ["GPIO", "センサー"],
  "filename": "your_code.py",
  "code": "import RPi.GPIO as GPIO\n...",
  "setup": {
    "connection": "VCC→5V, GND→GND",
    "command": "python3 your_code.py",
    "notes": "セットアップ手順など"
  }
}
```

## 🔧 JSONファイルの形式

### 必須フィールド

- `id`: 一意の識別子（英数字とハイフンのみ）
- `title`: タイトル（絵文字推奨）
- `description`: 説明文
- `difficulty`: 難易度（"初級", "中級", "上級"）
- `tags`: タグの配列（例: `["GPIO", "LED"]`）
- `filename`: ファイル名（例: `"led_blink.py"`）
- `code`: Pythonコード（改行は`\n`で表現）
- `setup.command`: 実行コマンド

### オプションフィールド

- `setup.connection`: 接続方法
- `setup.notes`: 備考・注意事項

## 🎨 カスタマイズ

### スタイルの変更

`index.html` の `<style>` タグ内でCSSを編集できます。

### 難易度の追加

`index.html` と `admin.html` の難易度選択部分を編集します。

## 🐛 トラブルシューティング

### コードが表示されない

- ブラウザの開発者ツール（F12）でエラーを確認
- `codes.json` の構文エラーをチェック（JSONLintなどで検証）
- 最後の要素の後に余分な`,`がないか確認

### JSONの構文エラー

- カンマの位置を確認（最後の要素の後にはカンマ不要）
- 文字列は必ず`"`（ダブルクォート）で囲む
- 改行は`\n`で表現

## 📝 ライセンス

教育目的での利用を想定しています。

## 👥 貢献

バグ報告や改善提案は、GitHubのIssuesでお願いします。

---

**作成**: 愛媛県立西条農業高等学校 プログラミング教室
**更新日**: 2025年11月

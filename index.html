<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="æ„›åª›çœŒç«‹è¥¿æ¡è¾²æ¥­é«˜ç­‰å­¦æ ¡ã®ãƒ©ã‚ºãƒ™ãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æˆæ¥­ç”¨ã‚³ãƒ¼ãƒ‰å…±æœ‰ã‚µã‚¤ãƒˆã€‚LEDåˆ¶å¾¡ã€ã‚»ãƒ³ã‚µãƒ¼ã€PWMãªã©ã®Pythonã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’æä¾›ã€‚">
    <meta name="keywords" content="ãƒ©ã‚ºãƒ™ãƒªãƒ¼ãƒ‘ã‚¤,Raspberry Pi,Python,ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°,æ•™è‚²,GPIO,ã‚»ãƒ³ã‚µãƒ¼,LED">
    <title>ãƒ©ã‚ºãƒ‘ã‚¤ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° - ã‚³ãƒ¼ãƒ‰å…±æœ‰ã‚µã‚¤ãƒˆ | æ„›åª›çœŒç«‹è¥¿æ¡è¾²æ¥­é«˜ç­‰å­¦æ ¡</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            color: #718096;
            font-size: 1.2em;
        }
        
        .code-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .code-section:hover {
            transform: translateY(-5px);
        }
        
        .code-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }
        
        .code-description {
            color: #4a5568;
            margin-bottom: 15px;
            padding-left: 15px;
        }
        
        .code-container {
            position: relative;
            margin-bottom: 15px;
        }
        
        .copy-btn, .download-btn {
            position: absolute;
            top: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            transition: background-color 0.3s ease;
            z-index: 10;
        }

        .copy-btn {
            right: 130px;
        }

        .download-btn {
            right: 10px;
            background: #48bb78;
        }

        .copy-btn:hover {
            background: #5a67d8;
        }

        .download-btn:hover {
            background: #38a169;
        }

        .copy-btn.copied {
            background: #48bb78;
        }
        
        pre {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.4;
        }
        
        code {
            font-family: 'Courier New', monospace;
        }
        
        .usage-note {
            background: #ebf8ff;
            border-left: 4px solid #3182ce;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
        }
        
        .usage-note h4 {
            color: #2c5282;
            margin-bottom: 5px;
        }
        
        .usage-note p {
            color: #2d3748;
            margin: 5px 0;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
        }
        
        .tag {
            display: inline-block;
            background: #e2e8f0;
            color: #4a5568;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 30px;
        }

        /* æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .filter-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .search-container {
            margin-bottom: 15px;
        }

        #searchBox {
            width: 100%;
            padding: 12px 20px;
            font-size: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        #searchBox:focus {
            border-color: #667eea;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .filter-btn:hover {
            background: #f7fafc;
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
        }

        .code-section.hidden {
            display: none;
        }

        .no-results {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            color: #718096;
            font-size: 1.2em;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        /* ã‚¯ã‚¤ãƒƒã‚¯ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .quick-nav {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .quick-nav h3 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .nav-item {
            padding: 12px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-weight: 600;
            font-size: 14px;
        }

        .nav-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 10px;
            }

            h1 {
                font-size: 2em;
            }

            .filter-buttons {
                flex-direction: column;
            }

            .filter-btn {
                width: 100%;
            }

            .nav-grid {
                grid-template-columns: 1fr;
            }

            .copy-btn, .download-btn {
                position: relative;
                display: inline-block;
                width: 48%;
                margin-bottom: 10px;
                right: auto;
            }

            .copy-btn {
                margin-right: 4%;
            }

            pre {
                font-size: 12px;
                padding: 15px;
            }

            #searchBox {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“ ãƒ©ã‚ºãƒ‘ã‚¤ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°</h1>
            <p class="subtitle">Pythonã‚³ãƒ¼ãƒ‰å…±æœ‰ã‚µã‚¤ãƒˆ - ã‚³ãƒ”ãƒ¼ã—ã¦å®Ÿè¡Œã—ã¦ã¿ã‚ˆã†ï¼</p>
        </header>

        <!-- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ -->
        <div class="filter-section">
            <div class="search-container">
                <input type="text" id="searchBox" placeholder="ğŸ” ã‚³ãƒ¼ãƒ‰ã‚’æ¤œç´¢..." onkeyup="filterCodes()">
            </div>
            <div class="filter-buttons">
                <button class="filter-btn active" onclick="filterByDifficulty('all')">ã™ã¹ã¦</button>
                <button class="filter-btn" onclick="filterByDifficulty('åˆç´š')">åˆç´š</button>
                <button class="filter-btn" onclick="filterByDifficulty('ä¸­ç´š')">ä¸­ç´š</button>
                <button class="filter-btn" onclick="filterByDifficulty('ä¸Šç´š')">ä¸Šç´š</button>
            </div>
        </div>

        <!-- ã‚¯ã‚¤ãƒƒã‚¯ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="quick-nav">
            <h3>ğŸ“š ã‚³ãƒ¼ãƒ‰ä¸€è¦§</h3>
            <div class="nav-grid">
                <a href="#led-blink-section" class="nav-item">ğŸ”´ LEDç‚¹æ»…</a>
                <a href="#button-led-section" class="nav-item">ğŸ”² ãƒœã‚¿ãƒ³å…¥åŠ›</a>
                <a href="#dht22-section" class="nav-item">ğŸŒ¡ï¸ æ¸©æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼</a>
                <a href="#led-pattern-section" class="nav-item">ğŸ¨ LEDãƒ‘ã‚¿ãƒ¼ãƒ³</a>
                <a href="#pwm-led-section" class="nav-item">ğŸ”† PWMèª¿å…‰</a>
                <a href="#servo-section" class="nav-item">ğŸ”„ ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼</a>
                <a href="#dht22-lcd-section" class="nav-item">ğŸŒ¡ï¸ğŸ“º DHT22+LCD</a>
            </div>
        </div>

        <div class="grid">
            <!-- LEDç‚¹æ»…ãƒ—ãƒ­ã‚°ãƒ©ãƒ  -->
            <div id="led-blink-section" class="code-section" data-difficulty="åˆç´š" data-tags="GPIO,LED" data-filename="led_blink.py">
                <div class="code-title">ğŸ”´ LEDç‚¹æ»…ãƒ—ãƒ­ã‚°ãƒ©ãƒ </div>
                <div class="code-description">åŸºæœ¬çš„ãªLEDåˆ¶å¾¡ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚GPIO18ãƒ”ãƒ³ã«æ¥ç¶šã—ãŸLEDãŒ1ç§’é–“éš”ã§ç‚¹æ»…ã—ã¾ã™ã€‚</div>
                <div class="tag">åˆç´š</div>
                <div class="tag">GPIO</div>
                <div class="tag">LED</div>
                
                <div class="code-container">
                    <button class="copy-btn" onclick="copyCode(this, 'led-blink')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                    <button class="download-btn" onclick="downloadCode('led-blink', 'led_blink.py')">ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <pre><code id="led-blink" class="language-python">import RPi.GPIO as GPIO
import time

# GPIOã®è¨­å®š
GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.OUT)

print("LEDç‚¹æ»…é–‹å§‹ï¼Ctrl+Cã§åœæ­¢")

try:
    while True:
        GPIO.output(18, GPIO.HIGH)  # LEDç‚¹ç¯
        print("LED ON")
        time.sleep(1)
        
        GPIO.output(18, GPIO.LOW)   # LEDæ¶ˆç¯
        print("LED OFF")
        time.sleep(1)
        
except KeyboardInterrupt:
    print("\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢")
    
finally:
    GPIO.cleanup()  # GPIOã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    print("GPIO cleanupå®Œäº†")</code></pre>
                </div>
                
                <div class="usage-note">
                    <h4>ğŸ”§ æ¥ç¶šæ–¹æ³•</h4>
                    <p>GPIO18 â†’ LED+ â†’ æŠµæŠ—(220Î©) â†’ GND</p>
                    <p><strong>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«å:</strong> <code>led_blink.py</code></p>
                    <p><strong>å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰:</strong> <code>python3 led_blink.py</code></p>
                </div>
            </div>
            
            <!-- ãƒœã‚¿ãƒ³å…¥åŠ›ãƒ—ãƒ­ã‚°ãƒ©ãƒ  -->
            <div id="button-led-section" class="code-section" data-difficulty="åˆç´š" data-tags="GPIO,ãƒœã‚¿ãƒ³" data-filename="button_led.py">
                <div class="code-title">ğŸ”² ãƒœã‚¿ãƒ³å…¥åŠ›ãƒ—ãƒ­ã‚°ãƒ©ãƒ </div>
                <div class="code-description">ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨LEDãŒç‚¹ç¯ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚ãƒ—ãƒ«ã‚¢ãƒƒãƒ—æŠµæŠ—ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</div>
                <div class="tag">åˆç´š</div>
                <div class="tag">GPIO</div>
                <div class="tag">ãƒœã‚¿ãƒ³</div>

                <div class="code-container">
                    <button class="copy-btn" onclick="copyCode(this, 'button-led')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                    <button class="download-btn" onclick="downloadCode('button-led', 'button_led.py')">ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <pre><code id="button-led" class="language-python">import RPi.GPIO as GPIO
import time

# GPIOã®è¨­å®š
GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.OUT)    # LEDç”¨
GPIO.setup(2, GPIO.IN, pull_up_down=GPIO.PUD_UP)  # ãƒœã‚¿ãƒ³ç”¨

print("ãƒœã‚¿ãƒ³ã§LEDåˆ¶å¾¡é–‹å§‹ï¼Ctrl+Cã§åœæ­¢")
print("ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„")

try:
    while True:
        if GPIO.input(2) == GPIO.LOW:  # ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸ
            GPIO.output(18, GPIO.HIGH)  # LEDç‚¹ç¯
            print("ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚Œã¾ã—ãŸ - LED ON")
        else:
            GPIO.output(18, GPIO.LOW)   # LEDæ¶ˆç¯
        
        time.sleep(0.1)  # CPUã®è² è·ã‚’è»½æ¸›
        
except KeyboardInterrupt:
    print("\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢")
    
finally:
    GPIO.cleanup()
    print("GPIO cleanupå®Œäº†")</code></pre>
                </div>
                
                <div class="usage-note">
                    <h4>ğŸ”§ æ¥ç¶šæ–¹æ³•</h4>
                    <p>GPIO2 â†’ ãƒœã‚¿ãƒ³ â†’ GND</p>
                    <p>GPIO18 â†’ LED+ â†’ æŠµæŠ—(220Î©) â†’ GND</p>
                    <p><strong>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«å:</strong> <code>button_led.py</code></p>
                    <p><strong>å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰:</strong> <code>python3 button_led.py</code></p>
                </div>
            </div>

            <!-- æ¸©æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ -->
            <div id="dht22-section" class="code-section" data-difficulty="ä¸­ç´š" data-tags="ã‚»ãƒ³ã‚µãƒ¼,IoT" data-filename="dht22.py">
                <div class="code-title">ğŸŒ¡ï¸ æ¸©æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ï¼ˆDHT22ï¼‰</div>
                <div class="code-description">DHT22ã‚»ãƒ³ã‚µãƒ¼ã§æ¸©åº¦ã¨æ¹¿åº¦ã‚’æ¸¬å®šã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚è¾²æ¥­IoTã®åŸºæœ¬ã¨ãªã‚Šã¾ã™ã€‚</div>
                <div class="tag">ä¸­ç´š</div>
                <div class="tag">ã‚»ãƒ³ã‚µãƒ¼</div>
                <div class="tag">IoT</div>

                <div class="code-container">
                    <button class="copy-btn" onclick="copyCode(this, 'dht22')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                    <button class="download-btn" onclick="downloadCode('dht22', 'dht22.py')">ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <pre><code id="dht22" class="language-python">import Adafruit_DHT
import time
from datetime import datetime

# ã‚»ãƒ³ã‚µãƒ¼ã®è¨­å®š
sensor = Adafruit_DHT.DHT22
pin = 4  # GPIO4ã«æ¥ç¶š

print("æ¸©æ¹¿åº¦æ¸¬å®šé–‹å§‹ï¼Ctrl+Cã§åœæ­¢")

try:
    while True:
        # ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰å€¤ã‚’èª­ã¿å–ã‚Š
        humidity, temperature = Adafruit_DHT.read_retry(sensor, pin)
        
        # ç¾åœ¨æ™‚åˆ»ã‚’å–å¾—
        now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        
        if humidity is not None and temperature is not None:
            print(f"{now} - æ¸©åº¦: {temperature:.1f}Â°C, æ¹¿åº¦: {humidity:.1f}%")
        else:
            print(f"{now} - ã‚»ãƒ³ã‚µãƒ¼ã®èª­ã¿å–ã‚Šã«å¤±æ•—ã—ã¾ã—ãŸ")
        
        time.sleep(2)  # 2ç§’é–“éš”ã§æ¸¬å®š
        
except KeyboardInterrupt:
    print("\næ¸¬å®šã‚’åœæ­¢ã—ã¾ã—ãŸ")</code></pre>
                </div>
                
                <div class="usage-note">
                    <h4>ğŸ”§ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</h4>
                    <p>1. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: <code>pip3 install Adafruit_DHT</code></p>
                    <p>2. æ¥ç¶š: VCCâ†’3.3V, GNDâ†’GND, DATAâ†’GPIO4</p>
                    <p><strong>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«å:</strong> <code>dht22.py</code></p>
                    <p><strong>å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰:</strong> <code>python3 dht22.py</code></p>
                </div>
            </div>

            <!-- Lãƒã‚«å¿œç”¨ -->
            <div id="led-pattern-section" class="code-section" data-difficulty="ä¸­ç´š" data-tags="GPIO,ãƒ‘ã‚¿ãƒ¼ãƒ³,LED" data-filename="led_pattern.py">
                <div class="code-title">ğŸ¨ LEDãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¶å¾¡</div>
                <div class="code-description">è¤‡æ•°ã®LEDã‚’ä½¿ã£ã¦æ§˜ã€…ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã§ç‚¹æ»…ã•ã›ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚</div>
                <div class="tag">ä¸­ç´š</div>
                <div class="tag">GPIO</div>
                <div class="tag">ãƒ‘ã‚¿ãƒ¼ãƒ³</div>

                <div class="code-container">
                    <button class="copy-btn" onclick="copyCode(this, 'led-pattern')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                    <button class="download-btn" onclick="downloadCode('led-pattern', 'led_pattern.py')">ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <pre><code id="led-pattern" class="language-python">import RPi.GPIO as GPIO
import time

# GPIOã®è¨­å®š
GPIO.setmode(GPIO.BCM)
led_pins = [18, 19, 20, 21]  # 4ã¤ã®LEDãƒ”ãƒ³

# å…¨ã¦ã®ãƒ”ãƒ³ã‚’å‡ºåŠ›ã¨ã—ã¦è¨­å®š
for pin in led_pins:
    GPIO.setup(pin, GPIO.OUT)
    GPIO.output(pin, GPIO.LOW)

def pattern_1():
    """é †ç•ªã«ç‚¹ç¯"""
    for pin in led_pins:
        GPIO.output(pin, GPIO.HIGH)
        time.sleep(0.3)
        GPIO.output(pin, GPIO.LOW)

def pattern_2():
    """å…¨ç‚¹æ»…"""
    for pin in led_pins:
        GPIO.output(pin, GPIO.HIGH)
    time.sleep(0.5)
    for pin in led_pins:
        GPIO.output(pin, GPIO.LOW)
    time.sleep(0.5)

def pattern_3():
    """å·¦å³ã‹ã‚‰ä¸­å¤®ã¸"""
    GPIO.output(18, GPIO.HIGH)
    GPIO.output(21, GPIO.HIGH)
    time.sleep(0.3)
    GPIO.output(19, GPIO.HIGH)
    GPIO.output(20, GPIO.HIGH)
    time.sleep(0.3)
    for pin in led_pins:
        GPIO.output(pin, GPIO.LOW)
    time.sleep(0.3)

print("LEDãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¶å¾¡é–‹å§‹ï¼Ctrl+Cã§åœæ­¢")

try:
    pattern = 1
    while True:
        print(f"ãƒ‘ã‚¿ãƒ¼ãƒ³ {pattern}")
        
        if pattern == 1:
            pattern_1()
        elif pattern == 2:
            pattern_2()
        else:
            pattern_3()
        
        pattern = (pattern % 3) + 1  # 1,2,3ã‚’å¾ªç’°
        time.sleep(0.5)
        
except KeyboardInterrupt:
    print("\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢")
    
finally:
    GPIO.cleanup()
    print("GPIO cleanupå®Œäº†")</code></pre>
                </div>

                <div class="usage-note">
                    <h4>ğŸ”§ æ¥ç¶šæ–¹æ³•</h4>
                    <p>GPIO18, 19, 20, 21 â†’ å„LED+ â†’ æŠµæŠ—(220Î©) â†’ GND</p>
                    <p><strong>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«å:</strong> <code>led_pattern.py</code></p>
                    <p><strong>å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰:</strong> <code>python3 led_pattern.py</code></p>
                </div>
            </div>

            <!-- PWMåˆ¶å¾¡ -->
            <div id="pwm-led-section" class="code-section" data-difficulty="ä¸­ç´š" data-tags="PWM,èª¿å…‰,LED" data-filename="pwm_led.py">
                <div class="code-title">ğŸ”† PWMåˆ¶å¾¡ï¼ˆLEDèª¿å…‰ï¼‰</div>
                <div class="code-description">PWMã‚’ä½¿ã£ã¦LEDã®æ˜ã‚‹ã•ã‚’æ®µéšçš„ã«å¤‰åŒ–ã•ã›ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚</div>
                <div class="tag">ä¸­ç´š</div>
                <div class="tag">PWM</div>
                <div class="tag">èª¿å…‰</div>

                <div class="code-container">
                    <button class="copy-btn" onclick="copyCode(this, 'pwm-led')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                    <button class="download-btn" onclick="downloadCode('pwm-led', 'pwm_led.py')">ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <pre><code id="pwm-led" class="language-python">import RPi.GPIO as GPIO
import time

# GPIOã®è¨­å®š
GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.OUT)

# PWMã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆï¼ˆ1000Hzï¼‰
pwm = GPIO.PWM(18, 1000)
pwm.start(0)  # 0%ã®æ˜ã‚‹ã•ã‹ã‚‰é–‹å§‹

print("PWM LEDåˆ¶å¾¡é–‹å§‹ï¼Ctrl+Cã§åœæ­¢")
print("LEDãŒæ˜æš—ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™")

try:
    while True:
        # æ˜ã‚‹ããªã‚‹ï¼ˆ0% â†’ 100%ï¼‰
        print("æ˜ã‚‹ããªã£ã¦ã„ã¾ã™...")
        for duty_cycle in range(0, 101, 2):
            pwm.ChangeDutyCycle(duty_cycle)
            time.sleep(0.05)
        
        time.sleep(0.5)
        
        # æš—ããªã‚‹ï¼ˆ100% â†’ 0%ï¼‰
        print("æš—ããªã£ã¦ã„ã¾ã™...")
        for duty_cycle in range(100, -1, -2):
            pwm.ChangeDutyCycle(duty_cycle)
            time.sleep(0.05)
        
        time.sleep(0.5)
        
except KeyboardInterrupt:
    print("\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢")
    
finally:
    pwm.stop()
    GPIO.cleanup()
    print("PWMåœæ­¢ã€GPIO cleanupå®Œäº†")</code></pre>
                </div>

                <div class="usage-note">
                    <h4>ğŸ”§ æ¥ç¶šæ–¹æ³•</h4>
                    <p>GPIO18 â†’ LED+ â†’ æŠµæŠ—(220Î©) â†’ GND</p>
                    <p><strong>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«å:</strong> <code>pwm_led.py</code></p>
                    <p><strong>å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰:</strong> <code>python3 pwm_led.py</code></p>
                </div>
            </div>

            <!-- ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼ -->
            <div id="servo-section" class="code-section" data-difficulty="ä¸­ç´š" data-tags="ã‚µãƒ¼ãƒœ,PWM" data-filename="servo_control.py">
                <div class="code-title">ğŸ”„ ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼åˆ¶å¾¡</div>
                <div class="code-description">PWMã§ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼ã‚’åˆ¶å¾¡ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚è§’åº¦æŒ‡å®šã§å›è»¢ã•ã›ã¾ã™ã€‚</div>
                <div class="tag">ä¸­ç´š</div>
                <div class="tag">ã‚µãƒ¼ãƒœ</div>
                <div class="tag">PWM</div>

                <div class="code-container">
                    <button class="copy-btn" onclick="copyCode(this, 'servo')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                    <button class="download-btn" onclick="downloadCode('servo', 'servo_control.py')">ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <pre><code id="servo" class="language-python">import RPi.GPIO as GPIO
import time

# GPIOã®è¨­å®š
GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.OUT)

# PWMã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆï¼ˆ50Hzï¼‰
servo = GPIO.PWM(18, 50)
servo.start(0)

def set_angle(angle):
    """è§’åº¦ã‚’æŒ‡å®šã—ã¦ã‚µãƒ¼ãƒœã‚’å‹•ã‹ã™"""
    duty_cycle = 2 + (angle / 18)
    servo.ChangeDutyCycle(duty_cycle)
    time.sleep(0.5)
    servo.ChangeDutyCycle(0)  # ä¿¡å·åœæ­¢ã§ã‚¸ãƒƒã‚¿ãƒ¼ã‚’é˜²ã

print("ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼åˆ¶å¾¡é–‹å§‹ï¼Ctrl+Cã§åœæ­¢")
print("ã‚µãƒ¼ãƒœãŒ0åº¦ã€90åº¦ã€180åº¦ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™")

try:
    while True:
        print("0åº¦ã«ç§»å‹•")
        set_angle(0)
        time.sleep(1)
        
        print("90åº¦ã«ç§»å‹•")
        set_angle(90)
        time.sleep(1)
        
        print("180åº¦ã«ç§»å‹•")
        set_angle(180)
        time.sleep(1)
        
        print("90åº¦ã«æˆ»ã‚‹")
        set_angle(90)
        time.sleep(1)
        
except KeyboardInterrupt:
    print("\nãƒ—ãƒ­ã‚°ãƒ©ãƒ åœæ­¢")
    
finally:
    servo.stop()
    GPIO.cleanup()
    print("ã‚µãƒ¼ãƒœåœæ­¢ã€GPIO cleanupå®Œäº†")</code></pre>
                </div>
                
                <div class="usage-note">
                    <h4>ğŸ”§ æ¥ç¶šæ–¹æ³•</h4>
                    <p>èµ¤ç·šâ†’5V, èŒ¶ç·šâ†’GND, ã‚ªãƒ¬ãƒ³ã‚¸ç·šâ†’GPIO18</p>
                    <p>â€»5Vé›»æºã§å‹•ä½œã•ã›ã¦ãã ã•ã„</p>
                    <p><strong>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«å:</strong> <code>servo_control.py</code></p>
                    <p><strong>å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰:</strong> <code>python3 servo_control.py</code></p>
                </div>
            </div>

            <!-- ========================================= -->
             <!-- æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³: dht22ã¨ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚’ä½¿ã£ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ  -->
            <div id="dht22-lcd-section" class="code-section" data-difficulty="ä¸­ç´š" data-tags="ã‚»ãƒ³ã‚µãƒ¼,IoT,ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤,LCD" data-filename="dht22_lcd.py">
                <div class="code-title">ğŸŒ¡ï¸ğŸ“º DHT22ã¨ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚’ä½¿ã£ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ </div>
                <div class="code-description">DHT22ã§å–å¾—ã—ãŸæ¸©æ¹¿åº¦ãƒ‡ãƒ¼ã‚¿ã‚’LCD1602ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«è¡¨ç¤ºã•ã›ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚</div>
                <div class="tag">ä¸­ç´š</div>
                <div class="tag">ã‚»ãƒ³ã‚µãƒ¼</div>
                <div class="tag">ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤</div>

                <div class="code-container">
                    <button class="copy-btn" onclick="copyCode(this, 'dht22_display')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                    <button class="download-btn" onclick="downloadCode('dht22_display', 'dht22_lcd.py')">ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <pre><code id="dht22_display" class="language-python">#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import time
import board
import adafruit_dht
from RPLCD.i2c import CharLCD
import os

# lgpioã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
os.environ['BLINKA_USE_LGPIO'] = '1'

# DHT22ã‚»ãƒ³ã‚µãƒ¼ã®åˆæœŸåŒ–(GPIO27ã‚’ä½¿ç”¨)
dht_device = adafruit_dht.DHT22(board.D27, use_pulseio=False)

# LCD1602ã®åˆæœŸåŒ–(ã‚¢ãƒ‰ãƒ¬ã‚¹0x27)
lcd = CharLCD('PCF8574', 0x27, cols=16, rows=2)

def main():
    try:
        lcd.clear()
        lcd.cursor_pos = (0, 0)
        lcd.write_string('DHT22 Sensor')
        time.sleep(2)
        
        while True:
            try:
                # æ¸©åº¦ã¨æ¹¿åº¦ã‚’å–å¾—
                temperature = dht_device.temperature
                humidity = dht_device.humidity
                
                # LCDã«è¡¨ç¤º
                lcd.clear()
                lcd.cursor_pos = (0, 0)
                lcd.write_string(f'Temp: {temperature:.1f}C')
                lcd.cursor_pos = (1, 0)
                lcd.write_string(f'Humi: {humidity:.1f}%')
                
                # ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã‚‚å‡ºåŠ›
                print(f'Temperature: {temperature:.1f}Â°C, Humidity: {humidity:.1f}%')
                
            except RuntimeError as error:
                # DHT22ã¯èª­ã¿å–ã‚Šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚‹
                print(f"Error: {error.args[0]}")
                time.sleep(2.0)
                continue
            except Exception as e:
                print(f"Unexpected error: {e}")
                time.sleep(2.0)
                continue
            
            # 2ç§’å¾…æ©Ÿ(DHT22ã¯2ç§’ä»¥ä¸Šã®é–“éš”ãŒå¿…è¦)
            time.sleep(2.0)
            
    except KeyboardInterrupt:
        print("\nãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚äº†ã—ã¾ã™")
        lcd.clear()
        lcd.write_string('Goodbye!')
        time.sleep(1)
        lcd.clear()
    finally:
        dht_device.exit()

if __name__ == '__main__':
    main()</code></pre>
                </div>
                
                <div class="usage-note">
                    <h4>ğŸ“¦ å¿…è¦ãªéƒ¨å“</h4>
                    <ul>
                        <li>Raspberry Piï¼ˆRaspberry Pi 4æ¨å¥¨ï¼‰</li>
                        <li>DHT22ã‚»ãƒ³ã‚µãƒ¼</li>
                        <li>I2C LCD1602ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ï¼ˆPCF8574ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä»˜ãï¼‰</li>
                        <li>ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰</li>
                        <li>ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ãƒ¯ã‚¤ãƒ¤ãƒ¼ï¼ˆã‚ªã‚¹-ã‚ªã‚¹ã€ã‚ªã‚¹-ãƒ¡ã‚¹ï¼‰</li>
                        <li>10kÎ©æŠµæŠ—ï¼ˆãƒ—ãƒ«ã‚¢ãƒƒãƒ—ç”¨ï¼‰</li>
                    </ul>

                    <h4>ğŸ”Œ é…ç·šæ–¹æ³•</h4>
                    <p><strong>DHT22ã®æ¥ç¶š:</strong></p>
                    <pre style="background: #2d3748; color: #e2e8f0; padding: 10px; border-radius: 5px; font-size: 12px;">
DHT22      â†’ Raspberry Pi
VCC(+)     â†’ 3.3V (Pin 1)
DATA       â†’ GPIO27 (Pin 13)
GND(-)     â†’ GND (Pin 6)
âš ï¸ é‡è¦: VCCã¨DATAãƒ”ãƒ³ã®é–“ã«10kÎ©æŠµæŠ—ã‚’æ¥ç¶š</pre>

                    <p><strong>I2C LCD1602ã®æ¥ç¶š:</strong></p>
                    <pre style="background: #2d3748; color: #e2e8f0; padding: 10px; border-radius: 5px; font-size: 12px;">
LCD1602    â†’ Raspberry Pi
VCC        â†’ 5V (Pin 2)
GND        â†’ GND (Pin 9)
SDA        â†’ SDA (GPIO2, Pin 3)
SCL        â†’ SCL (GPIO3, Pin 5)</pre>

                    <h4>âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †</h4>
                    <p><strong>1. ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°ã¨I2Cæœ‰åŠ¹åŒ–</strong></p>
                    <pre><code class="language-bash">sudo apt update && sudo apt upgrade -y
sudo raspi-config
# â†’ Interface Options â†’ I2C â†’ Enable</code></pre>

                    <p><strong>2. å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</strong></p>
                    <pre><code class="language-bash">sudo apt install python3-pip python3-dev i2c-tools python3-gpiozero -y
sudo apt-get install -y python3-lgpio</code></pre>

                    <p><strong>3. Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</strong></p>
                    <pre><code class="language-bash">pip3 install adafruit-circuitpython-dht
pip3 install RPLCD
pip3 install lgpio
pip3 install adafruit-blinka</code></pre>

                    <p><strong>4. I2Cæ¥ç¶šã®ç¢ºèª</strong></p>
                    <pre><code class="language-bash">sudo i2cdetect -y 1
# LCD1602ãŒæ­£ã—ãæ¥ç¶šã•ã‚Œã¦ã„ã‚Œã°ã€0x27ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</code></pre>

                    <p><strong>5. æ¨©é™è¨­å®š</strong></p>
                    <pre><code class="language-bash">sudo usermod -a -G gpio $USER
sudo usermod -a -G i2c $USER
sudo reboot  # å†èµ·å‹•ã—ã¦è¨­å®šã‚’åæ˜ </code></pre>

                    <h4>ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h4>
                    <p><strong>DHT22é–¢é€£:</strong></p>
                    <ul>
                        <li>ãƒ‡ãƒ¼ã‚¿ãŒèª­ã¿å–ã‚Œãªã„ â†’ ãƒ—ãƒ«ã‚¢ãƒƒãƒ—æŠµæŠ—ï¼ˆ10kÎ©ï¼‰ã®æ¥ç¶šã‚’ç¢ºèª</li>
                        <li>ã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã™ã‚‹ â†’ é…ç·šã®æ¥è§¦ä¸è‰¯ã‚’ãƒã‚§ãƒƒã‚¯</li>
                    </ul>

                    <p><strong>LCD1602é–¢é€£:</strong></p>
                    <ul>
                        <li>è¡¨ç¤ºã•ã‚Œãªã„ â†’ <code>sudo i2cdetect -y 1</code>ã§ã‚¢ãƒ‰ãƒ¬ã‚¹ç¢ºèªï¼ˆ0x3fã®å ´åˆã‚‚ã‚ã‚Šï¼‰</li>
                        <li>æ–‡å­—åŒ–ã‘ â†’ é›»æºä¾›çµ¦ãŒä¸ååˆ†ãªå¯èƒ½æ€§</li>
                    </ul>

                    <p><strong>å®Ÿè¡Œå‰ã®æœ€çµ‚ãƒã‚§ãƒƒã‚¯:</strong></p>
                    <pre><code class="language-bash">gpio readall  # GPIOã®çŠ¶æ…‹ç¢ºèª
sudo i2cdetect -y 1  # I2Cã®å‹•ä½œç¢ºèª</code></pre>

                    <p><strong>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«å:</strong> <code>dht22_lcd.py</code></p>
                </div>
            </div>
            
           
            <!-- ========================================= -->
            
            
            
            <!-- ä¾‹: è·é›¢ã‚»ãƒ³ã‚µãƒ¼ã®ã‚µãƒ³ãƒ—ãƒ«ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆçŠ¶æ…‹ï¼‰ -->
            <!--
            <div class="code-section">
                <div class="code-title">ğŸ“ è¶…éŸ³æ³¢è·é›¢ã‚»ãƒ³ã‚µãƒ¼ï¼ˆHC-SR04ï¼‰</div>
                <div class="code-description">è¶…éŸ³æ³¢ã§è·é›¢ã‚’æ¸¬å®šã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚</div>
                <div class="tag">ä¸­ç´š</div>
                <div class="tag">ã‚»ãƒ³ã‚µãƒ¼</div>
                <div class="tag">è·é›¢æ¸¬å®š</div>
                
                <div class="code-container">
                    <button class="copy-btn" onclick="copyCode(this, 'ultrasonic')">ã‚³ãƒ”ãƒ¼</button>
                    <pre><code id="ultrasonic" class="language-python">import RPi.GPIO as GPIO
import time

# ãƒ”ãƒ³ã®è¨­å®š
TRIG = 23
ECHO = 24

GPIO.setmode(GPIO.BCM)
GPIO.setup(TRIG, GPIO.OUT)
GPIO.setup(ECHO, GPIO.IN)

def measure_distance():
    # ãƒˆãƒªã‚¬ãƒ¼ãƒ‘ãƒ«ã‚¹ã‚’é€ä¿¡
    GPIO.output(TRIG, True)
    time.sleep(0.00001)
    GPIO.output(TRIG, False)
    
    # ã‚¨ã‚³ãƒ¼ã®é–‹å§‹æ™‚é–“ã‚’è¨˜éŒ²
    while GPIO.input(ECHO) == 0:
        start = time.time()
    
    # ã‚¨ã‚³ãƒ¼ã®çµ‚äº†æ™‚é–“ã‚’è¨˜éŒ²
    while GPIO.input(ECHO) == 1:
        end = time.time()
    
    # è·é›¢ã‚’è¨ˆç®—
    duration = end - start
    distance = duration * 34300 / 2  # éŸ³é€Ÿ: 343m/s
    
    return distance

try:
    while True:
        dist = measure_distance()
        print(f"è·é›¢: {dist:.1f} cm")
        time.sleep(1)
        
except KeyboardInterrupt:
    GPIO.cleanup()</code></pre>
                </div>
                
                <div class="usage-note">
                    <h4>ğŸ”§ æ¥ç¶šæ–¹æ³•</h4>
                    <p>VCCâ†’5V, GNDâ†’GND, Trigâ†’GPIO23, Echoâ†’GPIO24</p>
                </div>
            </div>
            -->
            
        </div>
        
        <footer>
            <p>ğŸ“ æ„›åª›çœŒç«‹è¥¿æ¡è¾²æ¥­é«˜ç­‰å­¦æ ¡ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™å®¤</p>
            <p>ä½œæˆæ—¥: 2025å¹´11æœˆ</p>
        </footer>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script>
        // æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
        let currentDifficulty = 'all';

        function filterCodes() {
            const searchText = document.getElementById('searchBox').value.toLowerCase();
            const sections = document.querySelectorAll('.code-section');
            let visibleCount = 0;

            sections.forEach(section => {
                const title = section.querySelector('.code-title').textContent.toLowerCase();
                const description = section.querySelector('.code-description').textContent.toLowerCase();
                const tags = section.getAttribute('data-tags') ? section.getAttribute('data-tags').toLowerCase() : '';
                const difficulty = section.getAttribute('data-difficulty') || '';

                const matchesSearch = title.includes(searchText) ||
                                    description.includes(searchText) ||
                                    tags.includes(searchText);
                const matchesDifficulty = currentDifficulty === 'all' || difficulty === currentDifficulty;

                if (matchesSearch && matchesDifficulty) {
                    section.classList.remove('hidden');
                    visibleCount++;
                } else {
                    section.classList.add('hidden');
                }
            });

            // æ¤œç´¢çµæœãªã—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤º/éè¡¨ç¤º
            updateNoResultsMessage(visibleCount);
        }

        function filterByDifficulty(difficulty) {
            currentDifficulty = difficulty;

            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            filterCodes();
        }

        function updateNoResultsMessage(visibleCount) {
            let noResultsMsg = document.querySelector('.no-results');

            if (visibleCount === 0) {
                if (!noResultsMsg) {
                    noResultsMsg = document.createElement('div');
                    noResultsMsg.className = 'no-results';
                    noResultsMsg.textContent = 'ğŸ” æ¤œç´¢çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ';
                    document.querySelector('.grid').appendChild(noResultsMsg);
                }
            } else {
                if (noResultsMsg) {
                    noResultsMsg.remove();
                }
            }
        }

        // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
        function downloadCode(codeId, filename) {
            const code = document.getElementById(codeId).textContent;
            const blob = new Blob([code], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            showNotification('ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ: ' + filename);
        }

        // ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
        function copyCode(button, codeId) {
            const code = document.getElementById(codeId).textContent;
            
            navigator.clipboard.writeText(code).then(function() {
                // ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºã‚’å¤‰æ›´
                button.textContent = 'ã‚³ãƒ”ãƒ¼å®Œäº†ï¼';
                button.classList.add('copied');
                
                // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                setTimeout(function() {
                    button.textContent = 'ã‚³ãƒ”ãƒ¼';
                    button.classList.remove('copied');
                }, 2000);
                
                // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
                showNotification('ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
            }).catch(function(err) {
                // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ãƒ†ã‚­ã‚¹ãƒˆé¸æŠ
                const range = document.createRange();
                range.selectNode(document.getElementById(codeId));
                window.getSelection().removeAllRanges();
                window.getSelection().addRange(range);
                
                try {
                    document.execCommand('copy');
                    button.textContent = 'ã‚³ãƒ”ãƒ¼å®Œäº†ï¼';
                    button.classList.add('copied');
                    
                    setTimeout(function() {
                        button.textContent = 'ã‚³ãƒ”ãƒ¼';
                        button.classList.remove('copied');
                    }, 2000);
                    
                    showNotification('ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
                } catch(e) {
                    showNotification('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ‰‹å‹•ã§é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚', true);
                }
                
                window.getSelection().removeAllRanges();
            });
        }
        
        function showNotification(message, isError = false) {
            // é€šçŸ¥è¦ç´ ã‚’ä½œæˆ
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${isError ? '#e53e3e' : '#38a169'};
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                font-size: 14px;
                animation: slideIn 0.3s ease-out;
            `;
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨CSS
            if (!document.getElementById('notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            // 3ç§’å¾Œã«å‰Šé™¤
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾Œã«ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’é©ç”¨
        document.addEventListener('DOMContentLoaded', function() {
            Prism.highlightAll();
        });
    </script>
</body>
</html>